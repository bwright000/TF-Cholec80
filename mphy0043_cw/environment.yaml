# Conda environment for MPHY0043 Coursework
# Real-time Prediction of Remaining Duration in Cholecystectomy Surgery
# ============================================================================
#
# INSTALLATION OPTIONS:
#
# Option 1: GPU Cluster (Recommended for training)
#   conda env create -f environment.yaml
#   conda activate mphy0043
#   pip install tensorflow[and-cuda]  # For NVIDIA GPU support
#
# Option 2: Local Machine (Windows/Linux with NVIDIA GPU)
#   conda env create -f environment.yaml
#   conda activate mphy0043
#
# Option 3: Apple Silicon (M1/M2/M3 Mac)
#   conda env create -f environment.yaml
#   conda activate mphy0043
#   pip uninstall tensorflow
#   pip install tensorflow-macos tensorflow-metal
#
# RUNNING THE FULL PIPELINE:
#   python -m mphy0043_cw.scripts.run_all --data_dir /path/to/cholec80 --config mphy0043_cw/config.yaml
#
# GPU CONFIGURATION:
#   The training scripts automatically configure:
#   - GPU memory growth (prevents OOM errors)
#   - Mixed precision training (float16 for speed)
#   - MirroredStrategy (multi-GPU support)
#
# ============================================================================

name: mphy0043

channels:
  - conda-forge
  - defaults

dependencies:
  # Python version
  - python=3.10

  # Core scientific computing
  - numpy>=1.23,<2.0
  - scipy>=1.10
  - pandas>=1.5

  # Deep learning - TensorFlow
  # Note: For GPU support, see installation options above
  - pip

  # Visualization
  - matplotlib>=3.6
  - seaborn>=0.12

  # Data processing
  - tqdm>=4.64
  - pillow>=9.0
  - scikit-learn>=1.2

  # Configuration
  - pyyaml>=6.0

  # Jupyter (optional, for notebooks)
  - jupyter
  - ipykernel

  # Development tools
  - pytest>=7.0

  # Pip dependencies
  - pip:
    # TensorFlow 2.x with CUDA support (GPU)
    # Requires CUDA 11.8+ and cuDNN 8.6+ on the system
    - tensorflow>=2.13,<2.17

    # For Apple Silicon, replace above with:
    # - tensorflow-macos>=2.13
    # - tensorflow-metal>=1.0

    # TensorBoard for training visualization
    - tensorboard>=2.13
